# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Structure

This is a monorepo using pnpm workspaces with two main packages:

- **easy-bank** (Frontend): Astro-based static site with Tailwind CSS
- **easy-bank-api** (Backend): Strapi CMS for content management

## Development Commands

### Initial Setup
```bash
pnpm install

# Setup Strapi backend
cd packages/easy-bank-api/
cp .env.example .env
pnpm run strapi import -f easy-bank-data.tar.gz

# Setup Astro frontend  
cd packages/easy-bank/
cp .env.example .env
```

### Development
```bash
# Start both frontend and backend concurrently
pnpm start

# Start only frontend (Astro dev server)
pnpm start:web

# Start only backend (Strapi)
pnpm start:api

# Generate TypeScript types from Strapi
pnpm generated:type
```

### Build Commands
```bash
# Frontend build
cd packages/easy-bank/
pnpm build  # Runs astro check && astro build

# Backend build
cd packages/easy-bank-api/
pnpm build  # Runs strapi build
```

## Architecture Overview

### Frontend (Astro)
- Uses Astro with TypeScript and Tailwind CSS
- Component-based architecture with `.astro` files
- Static site generation with dynamic content from Strapi
- Strapi integration via `src/lib/strapi.ts` utility function
- Generated TypeScript types from Strapi in `src/generated/`

### Backend (Strapi)
- Headless CMS with the following content types:
  - Articles (blog posts)
  - Authors 
  - Features
  - Logos
  - Social Media
- Uses SQLite database (better-sqlite3)
- API endpoints auto-generated by Strapi
- Custom controllers, routes, and services for each content type

### Key Integration Points
- Frontend fetches data from Strapi API using the `fetchApi` utility
- TypeScript types are generated from Strapi schemas and shared between packages
- Environment variables configure the Strapi URL connection

### Content Management
- Strapi admin panel accessible when backend is running
- Data import/export via `.tar.gz` files
- Content types defined in JSON schemas under `src/api/*/content-types/`